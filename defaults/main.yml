---
# global
#   ├── repo
#   ├── install
#   |    ├── packages
#   |    └── dependencies#
#   └── config
#        └── server.cnf 

# global
mariadb:
  enabled: false
  version: ""
  service:
    state: "started"
    enabled: yes

# repo
mariadb_repo:
  enabled: false
  deb: "deb [arch=amd64,arm64,ppc64el] http://sfo1.mirrors.digitalocean.com/mariadb/repo/{{ mariadb.version }}/{{ ansible_distribution | lower }} {{ ansible_distribution_release }} main"
  deb_key: "https://mariadb.org/mariadb_release_signing_key.asc"
  rpm: "http://yum.mariadb.org/{{ mariadb.version }}/rhel/$releasever/$basearch"
  rpm_key: "https://yum.mariadb.org/RPM-GPG-KEY-MariaDB"

# install
mariadb_install:
  enabled: false
  packages: [mariadb-server]
  dependencies:
    debian: [gnupg2, python3, python3-pymysql]
    redhat: [python3, python3-PyMySQL]
  remove_old:
    enabled: false
    packages: [mariadb-server, mariadb-client, mysql-server, mysql-client]

# config
mariadb_config:
  enabled: false   
  file:
    debian: "50-server.cnf"
    redhat: "server.cnf"   
  src: ""
  path:
    debian: "/etc/mysql/mariadb.conf.d/"
    redhat: "/etc/my.cnf.d/"
  backup: false